<md-content layout-padding>
    <form name="userForm" ng-submit="saveUser()">
    
    	<div class="alert alert-danger" ng-show="error">
                    
                    <strong>{{'user.error' | translate}}</strong> {{validationErrorMessage}}
        </div> <br/>
        <div layout layout-sm="column">
            <md-input-container flex><label>{{'user.userid' | translate}}</label>
                <input required ng-model="user.userId" id="userId" ng-disabled="action === 'manageUser'" autocomplete="off" style="width: 300px;">
            </md-input-container>
            <md-input-container flex><label>{{'user.password' | translate}}</label>
                <input  ng-focus="displayPasswordRules()" ng-blur="hideToast()" name="updatedPassword" ng-model="updatedPassword" id="updatedPassword" type="password" type="search"  autocomplete="off"  style="width: 300px;">
            </md-input-container>
            
           <md-input-container flex><label><strong>{{'user.confirmpassword' | translate}}</strong></label>
                        <input ng-model="confirmUpdatedPassword" type="password" name="confirmUpdatedPassword"><br/>
                       
          </md-input-container>

        </div>
        <div layout layout-sm="column">
            <md-input-container flex><label>{{'user.firstname' | translate}}</label> <input required ng-model="user.firstName" autocomplete="off" required style="width: 300px;">
            </md-input-container>
            <md-input-container flex><label>{{'user.lastname' | translate}}</label> <input required ng-model="user.lastName" required style="width: 300px;">
            </md-input-container>
        </div>

        <div layout="column">
            <code style="font-weight: bold; font-size: 17px;">Email Settings</code>
            <div layout layout-sm="column">
                <md-input-container flex><label>Email Address</label> <input required ng-model="user.email" autocomplete="off" required style="width: 300px;">
                </md-input-container>
            </div>
            <md-switch ng-model="user.emailEnabled" ng-true-value="true" ng-false-value="false"
                       class="md-primary" aria-label="userEmail">
                Enable User Email Notification
                <p translate> {{ user.emailEnabled ? 'user.status.enabled' : 'user.status.disabled' }}</p>
            </md-switch>
            <md-switch ng-model="user.highPriorityEmail" ng-true-value="true" ng-false-value="false"
                       class="md-primary" aria-label="userAutoEmail">
                Automated Email Notification
                <p translate> {{ user.highPriorityEmail ? 'user.status.enabled' : 'user.status.disabled' }}</p>
            </md-switch>
        </div>

        <div layout="column">
            <code style="font-weight: bold; font-size: 17px;">{{'user.status' | translate}}</code>
            <md-switch ng-model="user.active" ng-true-value="1" ng-false-value="0"
                       class="md-primary" aria-label="userStatus" ng-disabled="user.isCurrentlyLoggedInUser">
                       {{'user.status.text' | translate}}
                <p translate> {{ user.active ? 'user.status.enabled' : 'user.status.disabled' }}</p>
            </md-switch>
        </div>
        <div layout="column">
            <code style="font-weight: bold; font-size: 17px;">{{'user.roles' | translate}}</code>
            <span layout="column" layout-wrap class="clearfix" style="min-height: 200px;">
                <span flex="20" ng-repeat="role in roles | orderBy:'roleDescription'">
                        <md-switch ng-model="role.selected"
                                   ng-disabled="role.disabled || user.isCurrentlyLoggedInUser"
                                   class="md-primary" aria-label="Roles"
                                   ng-change="setNonAdminRoles(role)">
                            <p translate>{{ role.roleDescription }}</p>
                        </md-switch>
                </span>
            </span>
        </div>
        <div class="md-actions" layout="row" style="padding-top: 15px;">
            <span flex="80"></span>
            <md-button href="#/admin" class="md-raised">{{'btn.back' | translate}}</md-button>
            <md-button class="md-raised md-primary" type="submit">{{'btn.save' | translate}}</md-button>
        </div>
    </form>
</md-content>
